{% extends './base.html' %}


{% block title %}Cotecmar || Herramientas Especiales{% endblock %}

{% block custom %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<link rel="stylesheet" href="{{ url_for('static', filename='css/herramientas_especiales.css') }}">
{% endblock %}

{% block body %}

<div class="col" style="margin-left: 30px;">
    <div id="hoja">
        <h2 class="section-title text-center">Herramientas generales</h2>
        <br>
        <form id="analisis-herramientas-form" enctype="multipart/form-data">
            <!-- Campo oculto para id_equipo_info -->
            <input type="hidden" name="id_equipo_info" value="{{ id_equipo_info }}">
    
            <div class="row">
                <!-- Primera columna -->
                <div class="col-md-6 my-4">
                    <label for="nombre" class="form-label">Nombre de la herramienta</label>
                    <input type="text" class="form-control" id="nombre" name="nombre">
    
                    <div class="mt-3">
                        <label for="valor" class="form-label">Costo</label>
                        <div class="input-group">
                            <input type="text" class="form-control" id="valor" name="valor" placeholder="Ingresa el valor"  step="0.01">
                            <select class="form-select" id="moneda" name="moneda" style="width: auto;">
                                <option value="USD">USD</option>
                                <option value="EURO">EURO</option>
                                <option value="COP">COP</option>
                            </select>
                        </div>
                    </div>
    
    
                    <label for="tipo_herramienta" class="form-label mt-3">Tipo de herramienta</label>
                    <select class="form-control" id="tipo_herramienta" name="tipo_herramienta">
                        {% for tipo in tipos_herramientas %}
                        <option value="{{ tipo.id_tipo_herramienta }}">{{ tipo.nombre_tipo }}</option>
                        {% endfor %}
                    </select>
                </div>
    
                <!-- Segunda columna -->
                <div class="col-md-6 my-4">
                    <label for="parte_numero" class="form-label">Parte número</label>
                    <input type="text" class="form-control" id="parte_numero" name="parte_numero">
    
                    <label for="cantidad" class="form-label mt-3">Cantidad</label>
                    <input type="number" class="form-control" id="cantidad" name="cantidad">
    
                    <label for="dibujo_seccion_transversal" class="form-label mt-3">Dibujo de sección transversal</label>
                    <input type="file" class="form-control" id="dibujo_seccion_transversal" name="dibujo_seccion_transversal" accept=".jpg, .jpeg, .png, .pdf">
                </div>
            </div>
            <!-- Botón "Agregar herramienta" -->
            <div class="text-end mt-4">
                <button type="submit" class="btn btn-primary">Agregar herramienta</button>
            </div>
        </form>
    
        <!-- Formulario de Herramientas Especiales -->
        <h2 class="section-title text-center">Herramientas Especiales</h2>
        <br>
        <form id="herramientas-especiales-form" enctype="multipart/form-data">
            <!-- Campo oculto para id_equipo_info -->
            <input type="hidden" name="id_equipo_info" value="{{ id_equipo_info }}">
    
            <div class="row">
                <!-- Primera columna -->
                <div class="col-md-4 my-4">
                    <label for="equipo_especial" class="form-label">Equipo</label>
                    <input type="text" class="form-control" id="equipo_especial" name="equipo_especial" value="{{ equipo.nombre_equipo }}" readonly>
    
                    <label for="dibujo_seccion_transversal_especial" class="form-label mt-3">Dibujo de sección transversal</label>
                    <input type="file" class="form-control" id="dibujo_seccion_transversal_especial" name="dibujo_seccion_transversal" accept=".jpg, .jpeg, .png, .pdf">
    
                    <label for="manual_referencia" class="form-label mt-3">Manual referenciado</label>
                    <input type="text" class="form-control" id="manual_referencia" name="manual_referencia">
                </div>
    
                <!-- Segunda columna -->
                <div class="col-md-4 my-4">
                    <label for="nombre_herramienta" class="form-label">Nombre de la herramienta</label>
                    <input type="text" class="form-control" id="nombre_herramienta" name="nombre_herramienta">
    
                    <label for="cantidad" class="form-label mt-3">Cantidad</label>
                    <input type="number" class="form-control" id="cantidad" name="cantidad">
    
                    <label for="tipo_herramienta" class="form-label mt-3">Tipo de herramienta</label>
                    <select class="form-control" id="tipo_herramienta" name="tipo_herramienta">
                        <option value="">Seleccione un tipo</option>
                        {% for tipo in tipos_herramientas %}
                            <option value="{{ tipo.id_tipo_herramienta }}">{{ tipo.nombre_tipo }}</option>
                        {% endfor %}
                    </select>
                </div>
    
                <!-- Tercera columna -->
                <div class="col-md-4 my-4">
                    <label for="parte_numero_especial" class="form-label">Parte número</label>
                    <input type="text" class="form-control" id="parte_numero_especial" name="parte_numero">
    
                    <div class="mt-3">
                        <label for="valor" class="form-label">Costo</label>
                        <div class="input-group">
                            <input type="number" class="form-control" id="valor_especial" name="valor" step="0.01">
                            <select class="form-select" id="moneda" name="moneda" style="width: auto;">
                                <option value="USD">USD</option>
                                <option value="EURO">EURO</option>
                                <option value="COP">COP</option>
                            </select>
                        </div>
                    </div>
                    
                </div>
            </div>
            <!-- Botón "Agregar herramienta especial" -->
            <div class="text-end mt-4">
                <button type="submit" class="btn btn-primary">Agregar herramienta especial</button>
            </div>
        </form>
        <div class="mt-4">
            <button class="btn btn-danger" onclick="window.history.back();">Cancelar</button>
        </div>
    </div>
</div>

<script src="{{ url_for('static', filename='js/herramientas_especiales.js') }}"></script>

{% endblock %}
